<div class="bg-light lter b-b wrapper-md">
    <div>
        <h1 class="m-n font-thin h3 text-black">The Things Network</h1>
    </div>
</div>
<div class="wrapper-md">
    <div class="panel panel-default">
        <div class="panel-heading font-bold">
            <i class="fa fa-cog m-r-xs"></i> Settings
        </div>
        <div class="panel-body">
            <form id="form-save-callback" class="form-validation" ng-submit="save()">
                <uib-tabset class="tab-container m-b-none" ng-disabled="save_state==1">
                    <uib-tab heading="Callback Processing">
                        <div class="form-group">
                            <label><i class="fa fa-magic m-r-xs text-muted"></i>Auto provision resources <i class="fa fa-info-circle text-muted" uib-popover="Automatically create devices and buckets to store incoming data" popover-trigger="'mouseenter'"></i></label>
                            <div class="m-t-xs">
                                <label class="i-switch bg-success">
                                    <input type="checkbox" ng-model="settings.value.auto_provision_resources">
                                    <i></i>
                                </label>
                            </div>
                        </div>
                        <div ng-if="settings.value.auto_provision_resources">
                            <div class="form-group">
                                <label><i class="fa fa-clock m-r-xs text-muted"></i>Device Connection Timeout <i class="fa fa-info-circle text-muted" uib-popover="Number of minutes without a callback call to consider the device as disconnected" popover-trigger="'mouseenter'"></i></label>
                                <input type="number" placeholder="10" class="form-control" ng-model="settings.value.device_connection_timeout"/>
                            </div>
                            <div class="form-group">
                                <label><i class="fa fa-rocket m-r-xs  text-muted"></i>Device Identifier Prefix <i class="fa fa-info-circle text-muted" uib-popover="Specify a prefix (if required), to be set when creating the new device identifier." popover-trigger="'mouseenter'"></i></label>
                                <input type="text" placeholder="sigfox_" class="form-control" ng-model="settings.value.device_id_prefix"/>
                            </div>
                            <div class="form-group">
                                <label><i class="fa fa-database m-r-xs text-muted"></i>Bucket Identifier Prefix <i class="fa fa-info-circle text-muted" uib-popover="Specify a prefix (if required), to be set when creating the new bucket identifier." popover-trigger="'mouseenter'"></i></label>
                                <input type="text" placeholder="sigfox_" class="form-control" ng-model="settings.value.bucket_id_prefix"/>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab heading="Sigfox Integration">
                        <div class="font-bold m-b-xs"><i class="fa fa-link"></i> Method</div>
                        <pre class="bg-black text-white">POST</pre>
                        <div class="font-bold m-b-xs"><i class="fa fa-link"></i> URL</div>
                        <pre class="bg-black text-white">{{plugin.taskUrl}}/callback</pre>
                        <div class="font-bold m-b-xs"><i class="fa fa-lock"></i> Authorization Header</div>
                        <pre class="bg-black text-white">Bearer {{sigfox_plugin_callback}} </pre>
                    </uib-tab>
                </uib-tabset>
            </form>
            <pre class="alert alert-danger m-t m-b-none" ng-show="save_state==3"><strong><i class="fas fa-thumbs-down"></i> Ooops!</strong> Cannot process your request. Error {{error_code}} ({{error_message}})</pre>
        </div>
        <footer class="panel-footer text-left bg-light lter">
            <button class="btn btn-success btn-addon" type="submit" form="form-save-callback" ng-disabled="fetch_error || save_state==1"><i><span ng-class="{'fa fa-check': save_state!=1, 'fa fa-spinner fa-pulse' : save_state==1}"></span></i>Save</button>
        </footer>
    </div>
</div>